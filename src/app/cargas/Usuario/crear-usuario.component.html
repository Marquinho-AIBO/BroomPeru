<h2>Crear Usuario</h2>

<form (ngSubmit)="guardarUsuario()" #usuarioForm="ngForm">
  <div class="form-group">
    <label>Usuario</label>
    <input type="text" name="nombre_usuario" [(ngModel)]="usuario.nombre_usuario" required>
  </div>

  <div class="form-group">
    <label>Contrase√±a</label>
    <input type="password" name="contrasena" [(ngModel)]="usuario.contrasena" required minlength="6">
  </div>

  <div class="form-group">
    <label>Rol</label>
    <select name="rol" [(ngModel)]="usuario.rol" required>
      <option *ngFor="let perfil of perfiles" [value]="perfil.nombre">{{ perfil.nombre }}</option>
    </select>
  </div>

  <div class="form-group" *ngIf="usuario.rol !== 'Administrador'">
    <label>ID Empresa</label>
    <input type="number" name="empresa_id" [(ngModel)]="usuario.empresa_id" required>
  </div>

  <button type="submit" [disabled]="usuarioForm.invalid">Guardar</button>
</form>

<p *ngIf="mensaje">{{ mensaje }}</p>
